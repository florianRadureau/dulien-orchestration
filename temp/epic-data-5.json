{"body":"### üè¢ Domaine m√©tier\n\nLearning - Formations, QCM, modules\n\n### üë• Personas concern√©s\n\n- [x] Collaborateur - Utilisateur final de la plateforme\n- [x] Manager - Responsable d'√©quipe ou de d√©partement\n- [x] Admin - Administrateur de tenant\n- [x] Formateur - Cr√©ateur de contenu p√©dagogique\n- [x] RH - Ressources Humaines\n\n### üìù Description fonctionnelle\n\nn tant qu'utilisateur de Dulien, je veux √™tre automatiquement redirig√© vers la page de connexion avec une notification explicite lorsque ma session expire afin de comprendre pourquoi l'application ne r√©pond plus et pouvoir me reconnecter facilement.\nContexte\nActuellement, lorsqu'un utilisateur reste inactif trop longtemps sur l'application Dulien, son token d'authentification expire c√¥t√© serveur. L'utilisateur se retrouve alors face √† des erreurs silencieuses ou des blocages sans comprendre l'origine du probl√®me, cr√©ant une exp√©rience utilisateur frustrante et des potentiels tickets de support.\nL'API renvoie une erreur 401 avec le message : \"Authentication failed: Authentication failed: Lifetime validation failed, the token is expired.\"\nValeur ajout√©e\nPour l'utilisateur :\n\nCompr√©hension imm√©diate du probl√®me (session expir√©e)\nRetour fluide vers l'authentification sans perte de contexte\nR√©duction de la frustration li√©e aux blocages inexpliqu√©s\n\nPour l'entreprise :\n\nDiminution des tickets de support li√©s aux probl√®mes de session\nAm√©lioration de l'exp√©rience utilisateur sur la plateforme multi-tenant\nMaintien de l'engagement utilisateur par une gestion transparente des sessions\n\nNotes techniques\n\nV√©rifier le processus de rafra√Æchissement automatique du token (refresh token flow)\nIntercepter globalement les erreurs 401 dans l'application\nSi le rafra√Æchissement √©choue :\n\n√âmettre un toast informatif (\"Votre session a expir√©, reconnexion n√©cessaire\")\nRediriger vers la page de connexion Azure AD\nNettoyer le stockage local des tokens expir√©s\n\n### ‚úÖ Crit√®res d'acceptation\n\n1 : v√©rifier que le processus de rafraichissement du token est correct\n2 : intercepter les erreurs 401, si le rafraichissement n'est pas possible, √©mettre un toastr, et rediriger vers la page de connexion.\nl'api nous renvoie {\n\"message\": \"Authentication failed: Authentication failed: Lifetime validation failed, the token is expired.\",\n\"error\": \"Unauthorized\",\n\"statusCode\": 401\n}\n\n### üõ†Ô∏è Impact technique estim√©\n\n- [x] Webapp (Angular) - Interface utilisateur\n- [ ] Tenant-Specific-API (NestJS) - API m√©tier tenant\n- [ ] Referencial (NestJS) - API r√©f√©rentiel transverse\n- [ ] Mail-Server (JavaScript) - Notifications email\n- [ ] Landing-Page - Page d'accueil publique\n- [ ] Infrastructure - D√©ploiement, monitoring\n\n### üö® Priorit√© m√©tier\n\npriority:high - Livraison prioritaire (sprint actuel)\n\n### üìö Contexte additionnel\n\n_No response_\n\n### üèÅ Definition of Done\n\n- [x] Epic analys√©e et d√©coup√©e par Tech Lead Agent\n- [x] T√¢ches techniques cr√©√©es dans les repos appropri√©s\n- [x] Code d√©velopp√© selon les sp√©cifications\n- [ ] Tests unitaires et d'int√©gration ajout√©s/mis √† jour\n- [x] Review de code valid√©e par les pairs\n- [x] Review de s√©curit√© valid√©e (si applicable)\n- [ ] Review RGAA valid√©e (si interface utilisateur)\n- [x] Documentation technique mise √† jour\n- [x] Pr√™t pour validation fonctionnelle","labels":[{"id":"LA_kwDOPMg_eM8AAAACIguQZQ","name":"type:epic","description":"Epic fonctionnelle √† analyser par Tech Lead","color":"0052cc"},{"id":"LA_kwDOPMg_eM8AAAACIhVuMw","name":"agent:tech-lead","description":"Assign√© au Tech Lead Agent (analyse √©pics)","color":"0e8a16"}],"title":"[EPIC] redirige vers la page de connexion si le token est expir√© et que l'on ne peut pas le rafraichir"}
